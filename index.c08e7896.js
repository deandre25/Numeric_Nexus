function r(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var t,n,o=document.querySelector(".start"),a=document.querySelector("tbody"),s=document.querySelector(".message-lose"),i=document.querySelector(".message-win"),c=document.querySelector(".message-start"),f=document.querySelector(".game-score");function u(){t=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0,l(),document.addEventListener("keydown",d)}function l(){for(;;){var r=Math.floor(4*Math.random()),e=Math.floor(4*Math.random());if(0===t[r][e]){t[r][e]=.9>Math.random()?2:4;break}}!function(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)a.rows[r].cells[e].className="",a.rows[r].cells[e].classList.add("field-cell"),a.rows[r].cells[e].classList.add("field-cell--".concat(t[r][e])),a.rows[r].cells[e].textContent=t[r][e]||""}()}function d(r){var o=JSON.parse(JSON.stringify(t));switch(r.key){case"ArrowUp":!function(){for(var r=0;r<4;r++){var e=[t[0][r],t[1][r],t[2][r],t[3][r]];if(m(e)){e=v(e);for(var n=0;n<e.length;n++)t[n][r]=e[n]}}}();break;case"ArrowDown":!function(){for(var r=0;r<4;r++){var n=[t[0][r],t[1][r],t[2][r],t[3][r]];if(m(e(n).reverse())){n=v(n.reverse()).reverse();for(var o=0;o<n.length;o++)t[o][r]=n[o]}}}();break;case"ArrowRight":!function(){for(var r=0;r<4;r++){var n=t[r];if(m(e(n).reverse())){n=v(n.reverse()).reverse();for(var o=0;o<n.length;o++)t[r][o]=n[o]}}}();break;case"ArrowLeft":!function(){for(var r=0;r<4;r++){var e=t[r];if(m(e)){e=v(t[r]);for(var n=0;n<e.length;n++)t[r][n]=e[n]}}}()}(function(r){for(var e=0;e<4;e++)for(var n=0;n<4;n++)if(r[e][n]!==t[e][n])return!0;return!1})(o)&&(l(),f.textContent=n),!function(){for(var r=t.some(function(r){return r.some(function(r){return 0===r})}),e=!1,n=0;n<4;n++)for(var o=0;o<3;o++)if(t[n][o]===t[n][o+1]){e=!0;break}for(var a=0;a<3;a++)for(var s=0;s<4;s++)if(t[a][s]===t[a+1][s]){e=!0;break}return r||e}()&&(s.classList.remove("hidden"),document.removeEventListener("keydown",d)),function(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(2048===t[r][e])return!0;return!1}()&&i.classList.remove("hidden")}function v(r){for(var e=h(r),t=0;t<e.length;t++)e[t]===e[t+1]&&0!==e[t]&&(e[t]=2*e[t],e[t+1]=0,n+=e[t]);return h(e)}function m(r){for(var e=0;e<r.length-1;e++){var t=r[e]===r[e+1]&&0!==r[e],n=0===r[e]&&0!==r[e+1];if(t||n)return!0}return!1}function h(r){for(var e=r.filter(function(r){return 0!==r});e.length<4;)e.push(0);return e}o.addEventListener("click",function(){o.classList.contains("start")?(o.classList.remove("start"),o.classList.add("restart"),o.textContent="Restart",c.classList.add("hidden"),u()):(u(),s.classList.add("hidden"),i.classList.add("hidden"))});
//# sourceMappingURL=index.c08e7896.js.map
